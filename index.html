<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <main id="gameContainer">
        <div id="points">
            <p id="playerPoints"></p>
            <p id="computerPoints"></p>
        </div>
        <div id="buttons">
            <button class="button" data-option="paper">Paper</button>
            <button class="button" data-option="rock">Rock</button>
            <button class="button" data-option="scissors">Scissors</button>
        </div>
        <div id="declaration">
            <p id="declarationText"></p>
            <p id="winnerText"></p>
        </div>
    </main>
    <script>
        function getComputerPlay() {
            let computerChoice;
            let Random3Id = Math.floor(Math.random() * Math.floor(3)); 
            switch (Random3Id) {
                case 0 :
                    computerChoice = "Rock";
                    break;
                case 1 :
                    computerChoice = "Paper";
                    break;
                case 2 :
                    computerChoice = "Scissors";
                    break;
            }
            return computerChoice;
        }
        function playRound(playerSelection, computerSelection) { 
            const playerChoice = playerSelection.toLowerCase(); // case insensitive
            const computerChoice = computerSelection.toLowerCase(); // case insensitive
            let declaration;
            if (playerChoice === "rock" || playerChoice === "paper" || playerChoice === "scissors") {
                if ((playerChoice === "rock" && computerChoice === "paper") ||
                    (playerChoice === "scissors" && computerChoice === "rock") ||
                    (playerChoice === "paper" && computerChoice === "scissors")) {
                        declaration = "You lose this round! His " + computerChoice + " is better than your " + playerChoice;
                        playerLose ++;
                } else if (playerChoice === computerChoice) {
                    declaration = "Equality ! His " + computerChoice + " is equal to your " + playerChoice;
                    equality ++;
                } else {
                    declaration = "You win this round! Your " + playerChoice + " is better than his " + computerChoice;
                    playerWin ++;
                }
            }
            return declaration; // string that declares the winner
        }
        function playTheGame(e) {
            const computerSelection = getComputerPlay(); // get the computer random choice
                declarationText.textContent = playRound(e.target.textContent, getComputerPlay()); //return a declaration
                playerPoints.textContent = playerWin;
                computerPoints.textContent = playerLose;
                if (playerLose == 5) {
                    winner.textContent = "Computer win the game! You win " + playerWin + " times and lose " + playerLose + " times and there was " + equality + " equality";
                } else if (playerWin == 5) {
                    winner.textContent = "You win the game! You win " + playerWin + " times and lose " + playerLose + " times and there was " + equality + " equality";
                }
        }

        const options = document.querySelectorAll(".button");
        const declaration = document.querySelector('#declarationText');
        const winner = document.querySelector('#winnerText');
        const playerPoints = document.querySelector('#playerPoints');
        const computerPoints = document.querySelector('#computerPoints');

        let playerWin = 0;
        let playerLose = 0;
        let equality = 0;


        options.forEach(option => option.addEventListener('click', playTheGame));   
    </script>
</body>
</html>
