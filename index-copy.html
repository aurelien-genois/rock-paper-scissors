<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        /* the user is asked to choose one option among three options (scissors, rock, paper) => Input
        a comparison is made between his choice and a random option (choosed by the computer) => Calculation
        just after the choice, a declaration informs if the user win of lose the game => Output */


        function computerPlay() {
            let computerChoice;
            let Random3Id = Math.floor(Math.random() * Math.floor(3)); 
            switch (Random3Id) {
                case 0 :
                    computerChoice = "Rock";
                    break;
                case 1 :
                    computerChoice = "Paper";
                    break;
                case 2 :
                    computerChoice = "Scissors";
                    break;
            }
            return computerChoice;
        }

        let playerWin = 0;
        let playerLose = 0;
        let equality = 0;
        let errors = 0;
        function game() {
            for (i = 0; i < 5; i++) {

                // get the user choice
                const playerSelection = prompt("Write scissors, paper or Rock !");
                // get the computer random choice
                const computerSelection = computerPlay();
                // compare the two choices
                function playRound(playerSelection, computerSelection) { // function case insensitive
                    const playerChoice = playerSelection.toLowerCase();
                    const computerChoice = computerSelection.toLowerCase();
                    let declaration;
                    if (playerChoice === "rock" || playerChoice === "paper" || playerChoice === "scissors") {
                        if ((playerChoice === "rock" && computerChoice === "paper") ||
                            (playerChoice === "scissors" && computerChoice === "rock") ||
                            (playerChoice === "paper" && computerChoice === "scissors")) {
                                declaration = "You lose this round! His " + computerChoice + " is better than your " + playerChoice;
                                playerLose ++;
                        } else if (playerChoice === computerChoice) {
                            declaration = "Equality ! His " + computerChoice + " is equal to your " + playerChoice;
                            equality ++;
                        } else {
                            declaration = "You win this round! Your " + playerChoice + " is better than his " + computerChoice;
                            playerWin ++;
                        }
                    } else {
                        declaration = "Wrong writing, try again!";
                        errors ++;
                        i --;
                    }

                    return declaration; // string that declares the winner
                }
                // display a declaration informing the win or lose
                console.log(playRound(playerSelection, computerSelection));
            };
        }
        console.log(game());
        if (playerWin < playerLose) {
            console.log("You lose the game! You win " + playerWin + " times and lose " + playerLose + " times and there was " + equality + " equality and " + errors + " errors");
        } else if (playerWin === playerLose) {
            console.log("Equality! You win " + playerWin + " times and lose " + playerLose + " times and there was " + equality + " equality and " + errors + " errors");
        } else {
            console.log("You win the game! You win " + playerWin + " times and lose " + playerLose + " times and there was " + equality + " equality and " + errors + " errors");
        }

    </script>
</body>
</html>